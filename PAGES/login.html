<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TravelFar Sign Up Page</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../css/login.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300&family=Poppins:wght@300&display=swap" rel="stylesheet">
</head>
<body>

  <div class="container">
   
    
        <form>
            
         
          <div class="user">
            <h1 class="logo">Travel<span>Far</span></h1>
          </div>
            
         
            <input type="email" placeholder="Email Address" name="userEmail" id="user-mail" class="signin-email" >

            <input type="password" placeholder="Password" name="user-password" class="signin-password" id="user-password">
            
            <button type="submit" class="btn " id="mybtn" >LOGIN</button>
        </form>
        <p class="sign-in">Do you have an account <a href="../PAGES/sign-up.html" class="register">Register here</a></p>

    

        <div class="footer">Â©TravelFar</div>
     

         <script>
          // const email = document.getElementById("user-email").value.indexOf("@");
          // const password = document.getElementById("user-password").value;

          const form = {
  email: document.getElementById("user-email").value,
  password: document.getElementById("user-password").value,
  submit: document.getElementById("mybtn"),
};
let button = form.submit.addEventListener("click", (e) => {
  e.preventDefault();
  const login = "https://keswet.herokuapp.com/accounts/auth/signin/";

  fetch(login, {
    method: "POST",
    headers: {
      Accept: "application/json, text/plain, */*",
      "Content-Type": "application/json",
    },
    body: JSON.stringify({
      email: form.email.value,
      password: form.password.value,
    }),
  })
    .then((response) => response.json())
    .then((data) => {
      console.log(data);
      // code here //
      if (data.error) {
        alert("Error Password or Username"); /*displays error message*/
      } else {
        window.open(
          "index.html"
        ); /*opens the target page while Id & password matches*/
      }
    })
    .catch((err) => {
      console.log(err);
    });
});



        </script>
  </div>
</body>
</html>